---
const {
  tag = "p",
  size = "",
  weight = "",
  height = "",
  color = "",
  align = "",
  transform = "",
  nowrap,
  class: className = "",
  style = "",
} = Astro.props;

const Tag = tag;

const classList = ["text"];
if (size) classList.push(`text-size-${size}`);
if (weight) classList.push(`text-weight-${weight}`);
if (height) classList.push(`text-height-${height}`);
if (color) classList.push(`text-color-${color}`);
if (align) classList.push(`text-align-${align}`);
if (nowrap) classList.push("text-nowrap");
if (transform) classList.push(`text-transform-${transform}`);
if (className) classList.push(className);
---

<Tag class={classList.join(" ") || undefined} style={style || undefined}><slot /></Tag>

<style lang="scss">
  @use "sass:map";
  @use "@/styles/tokens" as *;
  @use "@/styles/utilities" as *;

  .text {
    font-size: fs(normal);
    font-style: normal;
    font-weight: fw(normal);
    line-height: lh(wide);
    color: t(text, secondary);
    letter-spacing: ls(normal);

    @each $key, $val in $font-size {
      &-size-#{$key} {
        font-size: $val;
      }
    }

    @each $key, $val in $font-weight {
      &-weight-#{$key} {
        font-weight: $val;
      }
    }

    @each $key, $val in $line-height {
      &-height-#{$key} {
        line-height: $val;
      }
    }

    @each $key, $val in map.get($semantic, text) {
      &-color-#{$key} {
        color: $val;
      }
    }

    @each $align in (left, center, right) {
      &-align-#{$align} {
        text-align: $align;
      }
    }

    @each $transform in (none, capitalize, uppercase, lowercase) {
      &-transform-#{$transform} {
        text-transform: $transform;
      }
    }

    &-nowrap {
      white-space: nowrap;
    }
  }
</style>
